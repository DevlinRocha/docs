---
title: 'Raw database access'
metaTitle: 'Raw database access'
metaDescription: 'Raw database access with Prisma Client.'
hide_table_of_contents: true
---

While the Prisma Client API aims to make all your database queries intuitive, type-safe, and convenient, there may still be situations where raw SQL is the best tool for the job.

This may happen for several reasons, e.g., because you need to optimize the performance of a specific query or because your data requirements can't be expressed by Prisma Client's query API.

In these cases, you can use one of Prisma Client's advanced querying features via `$queryRaw` or `$executeRaw`, to send raw queries to the database.

In most cases, [TypedSQL](#writing-type-safe-queries-with-prisma-client-and-typedsql) will allow you to express your query in SQL while still leveraging Prisma Client's excellent user experience. However, since TypedSQL is statically typed, there are some cases (such as dynamically generated `WHERE` clauses) that it can't represent. For these cases, you will need to use [`$queryRaw`](/orm/prisma-client/raw-database-access/raw-queries#queryraw) or [`$executeRaw`](/orm/prisma-client/raw-database-access/raw-queries#executeraw) or their unsafe counterparts.

## Writing type-safe queries with Prisma Client and TypedSQL

:::info

The following sections are available in Prisma ORM 5.18.0 and later. For raw database access in previous versions see [our raw queries documentation](/orm/prisma-client/raw-database-access/raw-queries).

:::


### What is TypedSQL?

TypedSQL is a new feature of Prisma ORM that allows you to write your queries in `.sql` files while still getting the great developer experience of Prisma Client. Write the code you're comfortable with and add in fully-typed inputs and outputs.

### Getting started with TypedSQL

Getting started with TypedSQL requires just a few steps.

1. Make sure you have `@prisma/client` and `prisma` installed and at least version 5.18.0.
1. Inside your `prisma` directory, add a `sql` directory. Any queries you write here will be imported into Prisma Client with the `prisma generate --sql` command
1. Write your query in a `.sql` file in the `sql` directory. You can [see some examples](https://github.com/prisma/prisma-examples) in our prisma-examples repo.
1. Run `prisma generate --sql` to generate the functions and types to use your SQL queries in code.
1. Now you can use your query in your codebase! Have a complicated usage report you need to run? Now you can import it from `@prisma/client/sql` and use it alongside your other Prisma queries.

```ts
import { PrismaClient } from '@prisma/client'
import { monthlyUsageReport } from '@prisma/client/sql'

const prisma = new PrismaClient();

const report = await prisma.$queryRaw(monthlyUsageReport);
```

### Examples

## Raw SQL queries

Prior to version 5.18.0, Prisma Client only supported raw SQL queries that were not type-safe and required manual mapping of the query result to the desired type. While not as ergonomic as [TypedSQL](#writing-type-safe-queries-with-prisma-client-and-typedsql), these queries are still supported and are useful when a query is dynamically generated. 

### Legacy raw queries in relational databases

Prisma ORM supports four methods to execute raw SQL queries in relational databases:

- [`$queryRaw`](/orm/prisma-client/raw-database-access/raw-queries#queryraw)
- [`$executeRaw`](/orm/prisma-client/raw-database-access/raw-queries#executeraw)
- [`$queryRawUnsafe`](/orm/prisma-client/raw-database-access/raw-queries#queryrawunsafe)
- [`$executeRawUnsafe`](/orm/prisma-client/raw-database-access/raw-queries#executerawunsafe)

These commands are similar to using TypedSQL, but they are not type-safe and are written as strings in your code rather than in dedicated `.sql` files.

### Legacy raw queries in document databases

For MongoDB, Prisma ORM supports three methods to execute raw queries:

- [`$runCommandRaw`](/orm/prisma-client/raw-database-access/raw-queries#runcommandraw)
- [`<model>.findRaw`](/orm/prisma-client/raw-database-access/raw-queries#findraw)
- [`<model>.aggregateRaw`](/orm/prisma-client/raw-database-access/raw-queries#aggregateraw)

These methods allow you to execute raw MongoDB commands and queries, providing flexibility when you need to use MongoDB-specific features or optimizations.

`$runCommandRaw` is used to execute database commands, `<model>.findRaw` is used to find documents that match a filter, and `<model>.aggregateRaw` is used for aggregation operations. All three methods are available from Prisma version 3.9.0 and later.

Similar to raw queries in relational databases, these methods are not type-safe and require manual handling of the query results.
