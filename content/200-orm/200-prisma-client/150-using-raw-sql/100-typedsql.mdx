---
title: 'TypedSQL'
metaTitle: 'Writing Type-safe SQL with TypedSQL and Prisma Client'
metaDescription: 'Learn how to use TypedSQL to write fully type-safe SQL queries that are compatible with any SQL console and Prisma Client.'
---

## Getting started with TypedSQL

To start using TypedSQL in your Prisma project, follow these steps:

1. Ensure you have `@prisma/client` and `prisma` installed and updated to at least version 5.18.0.

2. Create a `sql` directory inside your `prisma` directory. This is where you'll write your SQL queries.

   ```terminal
   cd prisma
   mkdir sql
   ```

3. Write your SQL queries in `.sql` files within the `sql` directory. For example:

   ```sql title="prisma/sql/getUsersWithPosts.sql"
   SELECT u.id, u.name, COUNT(p.id) as postCount
   FROM users u
   LEFT JOIN posts p ON u.id = p.authorId
   GROUP BY u.id, u.name
   ```

4. Generate Prisma Client with the `sql` flag to ensure TypeScript functions and types for your SQL queries are created:

   ```terminal
   prisma generate --sql
   ```

5. Now you can import and use your SQL queries in your TypeScript code:

   ```typescript title="/src/index.ts"
   import { PrismaClient } from '@prisma/client'
   import { getUsersWithPosts } from '@prisma/client/sql'

   const prisma = new PrismaClient()

   async function main() {
     const usersWithPostCounts = await prisma.$queryRawTyped(getUsersWithPosts)
     console.log(usersWithPostCounts)
   }

   main()
     .catch(console.error)
     .finally(() => prisma.$disconnect())
   ```

## Examples

For practical examples of how to use TypedSQL in various scenarios, please refer to the [Prisma Examples repo](https://github.com/prisma/prisma-examples). This repo contains a collection of ready-to-run Prisma example projects that demonstrate best practices and common use cases, including TypedSQL implementations.

## Limitations of TypedSQL

### Supported Databases

TypedSQL supports modern versions of MySQL and PostgreSQL without any further configuration. For the most current list of supported databases, please consult the official documentation, as new database support may be added over time.

### Dynamic SQL Queries with Dynamic Columns

TypedSQL does not natively support constructing SQL queries with dynamically added columns. When you need to create a query where the columns are determined at runtime, you must use the `$queryRaw` and `$executeRaw` methods. These methods allow for the execution of raw SQL, which can include dynamic column selections.

**Example of a query using dynamic column selection:**

```typescript
const columns = 'name, email, age'; // Columns determined at runtime
const result = await prisma.$queryRawUnsafe(
  `SELECT ${columns} FROM Users WHERE active = true`
);
```

In this example, the columns to be selected are defined dynamically and included in the SQL query. While this approach provides flexibility, it requires careful attention to security, particularly to avoid SQL injection vulnerabilities. Additionally, using raw SQL queries means foregoing the type-safety and DX of TypedSQL.